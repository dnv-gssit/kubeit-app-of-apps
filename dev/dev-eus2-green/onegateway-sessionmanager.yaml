---
deploy:
  gateway:
    name: istio-system/global-https-external-default-gateway

  serviceAccount:
    enabled: true
    annotations:
      azure.workload.identity/tenant-id: adf10e2b-b6e9-41d6-be2f-c12bb566019c
      azure.workload.identity/client-id: <id>

  app: onegateway-sessionmanager
  appVersion: v1

  sessionManager:
    name: sm-onegateway

  defaultRouting:
    hosts:
      - <fqdn for test>

  envsFrom:
    - name: CLIENT_SECRET
      valueFrom:
        secretKeyRef:
          name: ancris-session-manager
          key: client-secret
    - name: CLIENT_ID
      value: <app client id>

  secretStore:
    vaultUrl: "https://kubeit-dev-kv-sh-we.vault.azure.net/"

  externalSecrets:
    - name: ancris-session-manager
      refs:
        - keyName: client-secret
          kvSecretName: <kv-secret-name>
